var qe=Object.defineProperty;var Fe=(r,t,s)=>t in r?qe(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var k=(r,t,s)=>(Fe(r,typeof t!="symbol"?t+"":t,s),s);import{d as Qe,r as g,a as G,w as Ze,o as Xe,c as w,b as v,n as F,e as P,f as I,g as L,h as V,F as T,i as O,j as z,k as ie,u as U,l as oe,v as Ye,m as le,E as ee,p as et,q as tt,s as st,t as it,x as ot,y as p,z as lt,A as nt,C as at,B as rt,D as ct,G as dt,H as ut,I as ht,J as vt,K as ft,L as yt,M as pt,_ as gt}from"./index-8b88c155.js";const ne=(r,t,s)=>{const i=window.devicePixelRatio||1;return r.width=t*i,r.height=s*i,r.style.width=`${t}px`,r.style.height=`${s}px`,r.getContext("2d").scale(i,i),r};class j{constructor(t,s){k(this,"info");k(this,"style");k(this,"offsetX");k(this,"offsetY");k(this,"isActive");k(this,"text");k(this,"bgcMode");k(this,"linearGradientStyle");k(this,"name");k(this,"anchorRadius");k(this,"rotation");this.name="",this.info=t,this.style=Object.assign({},{background:"transparent",border:"black",borderWidth:1,zIndex:0},s),this.offsetX=0,this.offsetY=0,this.isActive=!1,this.text="",this.bgcMode=0,this.linearGradientStyle={position:{},colors:[],direction:0},this.anchorRadius=5,this.rotation=0}isInside(t,s){const{x:i,y:o,width:c,height:n}=this.info;return t>i-5-this.anchorRadius/2&&t<i+c+5+this.anchorRadius/2&&s>o-5-this.anchorRadius/2-30&&s<o+n+5+this.anchorRadius/2}moveDir(t,s){const{x:i,y:o,width:c,height:n}=this.info,e=t>i-6.5&&t<i-3.5&&s>o+n/2-this.anchorRadius/2&&s<o+n/2+this.anchorRadius/2,l=t>i+c+5-this.anchorRadius/2&&t<i+c+5+this.anchorRadius/2&&s>o+n/2-this.anchorRadius/2&&s<o+n/2+this.anchorRadius/2,y=t>i+c/2-this.anchorRadius/2&&t<i+c/2+this.anchorRadius/2&&s>o-5-this.anchorRadius/2&&s<o-5+this.anchorRadius/2,f=t>i+c/2-this.anchorRadius/2&&t<i+c/2+this.anchorRadius/2&&s>o+n+5-this.anchorRadius/2&&s<o+n+5+this.anchorRadius/2,M=t>i-5-this.anchorRadius/2&&t<i-5+this.anchorRadius/2&&s>o-5-this.anchorRadius/2&&s<o-5+this.anchorRadius/2,D=t>i-5-this.anchorRadius/2&&t<i-5+this.anchorRadius/2&&s>o+n+5-this.anchorRadius/2&&s<o+n+5+this.anchorRadius/2,N=t>i+c+5-this.anchorRadius/2&&t<i+c+5+this.anchorRadius/2&&s>o-5-this.anchorRadius/2&&s<o-5+this.anchorRadius/2,H=t>i+c+5-this.anchorRadius/2&&t<i+c+5+this.anchorRadius/2&&s>o+n+5-this.anchorRadius/2&&s<o+n+5+this.anchorRadius/2,J=t>i+c/2-this.anchorRadius/2-3&&t<i+c/2+this.anchorRadius/2+3&&s>o-32&&s<o-20;return e?"w-resize":l?"e-resize":y?"n-resize":f?"s-resize":M?"nw-resize":D?"sw-resize":N?"ne-resize":H?"se-resize":J?"grab":0}update(t,s){this.info.x=t,this.info.y=s}setStyle(t){if(this.bgcMode===0)t.fillStyle=this.style.background;else if(this.bgcMode===1){const{x:s,y:i,width:o,height:c}=this.info;let n,e,l,y;switch(this.linearGradientStyle.direction){case 0:n=s,e=i,l=s+o,y=i;break;case 1:n=s,e=i,l=s,y=i+c;break;case 2:n=s,e=i,l=s+o,y=i+c;break;case 3:n=s+o,e=i,l=s,y=i+c;break}this.linearGradientStyle.position.startX=n,this.linearGradientStyle.position.startY=e,this.linearGradientStyle.position.endX=l,this.linearGradientStyle.position.endY=y,this.setLinearGradient(t)}t.strokeStyle=this.style.border,t.lineWidth=this.style.borderWidth,t.globalAlpha=.9}drawAnchors(t,s){s.fillStyle="#fff",s.strokeStyle="blue",t.forEach(i=>{s.beginPath(),s.lineWidth=1,s.save(),s.translate(this.info.x+this.info.width/2,this.info.y+this.info.height/2),s.rotate(this.rotation),s.arc(i.x-this.info.x-this.info.width/2,i.y-this.info.y-this.info.height/2,this.anchorRadius,0,Math.PI*2),s.restore(),s.setLineDash([]),s.fill(),s.stroke()})}drawDashBorder({x:t,y:s,width:i,height:o},c,n){if(this.isActive){n.beginPath(),n.setLineDash([5,2]),n.lineWidth=1,n.strokeStyle="blue",n.fillStyle="blue",c.length||(n.save(),n.translate(t+i/2,s+o/2),n.rotate(this.rotation),n.rect(-(i+10)/2,-(o+10)/2,i+10,o+10),n.restore()),n.stroke();const e=c.length?c:[{x:t-5,y:s-5},{x:t+i/2,y:s-5},{x:t+i+5,y:s-5},{x:t-5,y:s+o+5},{x:t-5,y:s+o/2},{x:t+i+5,y:s+o/2},{x:t+i/2,y:s+o+5},{x:t+i+5,y:s+o+5},{x:t+i/2,y:s-25}];this.drawAnchors(e,n)}}drawText(t){const{x:s,y:i,width:o,height:c}=this.info;t.beginPath(),t.textAlign="center",t.font="16px Arial",t.textBaseline="middle",t.fillStyle="#000",t.fillText(this.text,s+o/2,i+c/2),t.closePath()}setLinearGradient(t){const{startX:s,startY:i,endX:o,endY:c}=this.linearGradientStyle.position,n=t.createLinearGradient(s,i,o,c);this.linearGradientStyle.colors&&this.linearGradientStyle.colors.forEach(e=>{e.color&&n.addColorStop(e.offset,e.color)}),t.fillStyle=n}}class ae extends j{constructor(t,s){super(t,s),this.name="rect"}draw(t){const{x:s,y:i,width:o,height:c}=this.info;t.beginPath(),this.setStyle(t),t.save(),t.translate(s+o/2,i+c/2),t.rotate(this.rotation),t.rect(-o/2,-c/2,o,c),t.restore(),t.fill(),t.stroke(),t.closePath(),this.drawText(t),this.drawDashBorder({x:s,y:i,width:o,height:c},[],t)}}class re extends j{constructor(t,s){super(t,s),this.name="roundRect"}draw(t){const{x:s,y:i,width:o,height:c}=this.info;let n=o*c*.001;o*c>25e3?n=25:o*c<1e4&&(n=10),t.beginPath(),this.setStyle(t),t.roundRect(s,i,o,c,n),t.fill(),t.stroke(),this.drawText(t),this.drawDashBorder({x:s,y:i,width:o,height:c},[],t)}}class ce extends j{constructor(t,s){super(t,s),this.name="ellipse"}draw(t){const{x:s,y:i,width:o,height:c}=this.info,n={x:s+o/2,y:i+c/2};t.beginPath(),this.setStyle(t),t.ellipse(n.x,n.y,o/2,c/2,0,0,Math.PI*2),t.stroke(),t.fill(),t.closePath(),this.drawDashBorder({x:s,y:i,width:o,height:c},[],t)}}class de extends j{constructor(t,s){super(t,s),this.name="circle"}draw(t){const{x:s,y:i,width:o}=this.info,c={x:s+o/2,y:i+o/2};t.beginPath(),this.setStyle(t),t.arc(c.x,c.y,o/2,0,Math.PI*2),t.stroke(),t.fill(),t.closePath(),this.drawDashBorder({x:s,y:i,width:o,height:o},[],t)}}class ue extends j{constructor(s,i){super(s,i);k(this,"endX");k(this,"endY");this.name="line",this.endX=this.info.x,this.endY=this.info.y}draw(s){const{x:i,y:o,width:c,height:n}=this.info;s.beginPath(),s.moveTo(i,o),s.lineCap="round",s.lineJoin="round",s.lineTo(this.endX,this.endY),s.closePath(),this.setStyle(s),s.stroke(),this.drawDashBorder({x:i,y:o,width:c,height:n},[],s)}}class he extends j{constructor(s,i){super(s,i);k(this,"content");this.content="",this.name="text"}draw(s){const{x:i,y:o}=this.info;s.save(),s.beginPath();const c=s.measureText(this.content).width;s.font="normal 400 16px Arial",s.globalCompositeOperation="source-over",s.fillText(this.content,i,o+14,c),this.setStyle(s),s.stroke(),s.closePath(),this.drawDashBorder({x:i,y:o,width:200,height:20},[],s)}}const wt=(r,t)=>({drawRect:(l,y)=>{const f=new ae({x:l,y,width:0,height:0});r.value=f,t.push(f)},drawRoundRect:(l,y)=>{const f=new re({x:l,y,width:0,height:0});r.value=f,t.push(f)},drawEllipse:(l,y)=>{const f=new ce({x:l,y,width:0,height:0});r.value=f,t.push(f)},drawCircle:(l,y)=>{const f=new de({x:l,y,radius:50,height:0,width:0});r.value=f,t.push(f)},drawLine:(l,y)=>{const f=new ue({x:l,y,width:0,height:0});r.value=f,t.push(f)},drawText:(l,y)=>{const f=new he({x:l,y,width:200,height:10});r.value=f,f.style.border="transparent",t.push(f)}}),bt=(r,t,s,i,o,c,n)=>{const e=s.value.info,l=i.value.info,y=t-n.y,f=r-n.x,M=y/f,D=Math.atan(M);switch(o.value){case"e-resize":r<i.value.info.x?(e.x=r,e.width=l.x-r):e.width=r-e.x;break;case"w-resize":r>l.x+l.width?(e.x=l.x+l.width,e.width=r-e.x):(e.x=r,e.width=l.x+l.width-r);break;case"n-resize":t>l.y+l.height?(e.y=l.y+l.height,e.height=t-e.y):(e.y=t,e.height=l.y+l.height-t);break;case"s-resize":t<l.y?(e.y=t,e.height=l.y-t):e.height=t-e.y;break;case"se-resize":r<l.x?(e.x=r,e.width=l.x-r):e.width=r-e.x,t<l.y?(e.y=t,e.height=l.y-t):e.height=t-e.y;break;case"ne-resize":r<i.value.info.x?(e.x=r,e.width=l.x-r):e.width=r-e.x,t>l.y+l.height?(e.y=l.y+l.height,e.height=t-e.y):(e.y=t,e.height=l.y+l.height-t);break;case"nw-resize":r>l.x+l.width?(e.x=l.x+l.width,e.width=r-e.x):(e.x=r,e.width=l.x+l.width-r),t>l.y+l.height?(e.y=l.y+l.height,e.height=t-e.y):(e.y=t,e.height=l.y+l.height-t);break;case"sw-resize":r>l.x+l.width?(e.x=l.x+l.width,e.width=r-e.x):(e.x=r,e.width=l.x+l.width-r),t<l.y?(e.y=t,e.height=l.y-t):e.height=t-e.y;break;case"grab":s.value.rotation=D;break;default:s.value.update(r-s.value.offsetX,t-s.value.offsetY),s.value.draw(c.value);break}};const C=r=>(ut("data-v-699e99d5"),r=r(),ht(),r),_t=C(()=>v("i",{class:"iconfont icon-caidan"},null,-1)),kt=[_t],mt={key:0,class:"setting"},St=C(()=>v("i",{class:"iconfont icon-xiazai"},null,-1)),Ct=C(()=>v("div",{class:"content"},"导出图片",-1)),Rt=[St,Ct],xt=C(()=>v("i",{class:"iconfont icon-reset"},null,-1)),zt=C(()=>v("div",{class:"content"},"重置画布",-1)),Bt=[xt,zt],Gt=C(()=>v("div",{class:"line"},null,-1)),It={class:"drawBtn"},Mt=["mode","title","onClick"],Dt={class:"borderStyle"},Et=C(()=>v("div",{class:"title"},"边框",-1)),Pt={class:"colors"},Vt={class:"singleColor"},Tt=["title","onClick"],At=C(()=>v("div",{class:"line"},null,-1)),Wt={class:"chooseColor"},Ot={class:"borderStyle"},Nt={class:"sigleOrGradient"},$t=C(()=>v("div",{class:"title"},"背景",-1)),Lt={style:{display:"flex"}},Ut={key:0,class:"colors"},jt={class:"bgc"},Ht=["title","onClick"],Jt=C(()=>v("div",{class:"line"},null,-1)),Kt={class:"chooseColor"},qt={key:1,class:"linearGradient gradient"},Ft={key:0,class:"prompt"},Qt={class:"title colorNo"},Zt=C(()=>v("div",{class:"title pianyi"},"偏移",-1)),Xt={class:"borderStyle"},Yt=C(()=>v("div",{class:"title"},"边框宽度",-1)),es={class:"lines"},ts=["onClick"],ss=Qe({__name:"Canvas",setup(r){const t=g(),s=g(!1),i=g(!1),o=g(0),c=g(!1),n=G([]),e=g(null),l=g(!1),y=g(!1),f=g(null),M=g(null),D=g(!1),N=g(""),H=g("#000"),J=g("#000"),Q=g(0),te=g(),se=g(),Z=g(),X=g(null),$=G({x:100,y:100}),A=G({x:0,y:0}),B=G({width:"",left:"",top:"",height:"",lineHeight:""}),K=g("default"),ve=G([{color:"black"},{color:"red"},{color:"blue"},{color:"aqua"},{color:"pink"}]),fe=G([{color:"transparent"},{color:"red"},{color:"blue"},{color:"aqua"},{color:"pink"}]),ye=G([{title:"细线",borderWidth:1},{title:"较细",borderWidth:2},{title:"中线",borderWidth:5},{title:"粗线",borderWidth:8}]),pe=G([{value:0,label:"单色"},{value:1,label:"线性渐变"},{value:2,label:"径向渐变"},{value:3,label:"锥形渐变"}]),ge=g(0),we=G(["icon-resize","icon-resize-vertical-copy","icon-resize-title2-copy","icon-resize-tilt"]),Y=g(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),q=g(),{drawRect:be,drawRoundRect:_e,drawEllipse:ke,drawCircle:me,drawLine:Se,drawText:Ce}=wt(e,n),Re=g([{name:"default",mode:0,title:"默认",icon:"icon-bianji-shubiao"},{name:"rect",mode:1,title:"直角矩形",icon:"icon-zhijiaojuxing"},{name:"roundRect",mode:2,title:"圆角矩形",icon:"icon-yuanjiaojuxing"},{name:"circle",mode:3,title:"圆形",icon:"icon-yuanxingweixuanzhong"},{name:"ellipse",mode:4,title:"椭圆",icon:"icon-tuoyuanxing"},{name:"line",mode:5,title:"线段",icon:"icon-line"},{name:"text",mode:6,title:"文本",icon:"icon-wenzi1"},{name:"pencil",mode:7,title:"铅笔",icon:"icon-24"},{name:"erase",mode:8,title:"橡皮擦",icon:"icon-xiangpi"}]),xe=d=>{ge.value=d,e.value&&(e.value.linearGradientStyle.direction=d)},ze=()=>{const d=t.value;q.value=d.getContext("2d"),ne(d,window.innerWidth,window.innerHeight),window.onresize=()=>{ne(d,window.innerWidth,window.innerHeight)},document.addEventListener("keydown",u=>{const m=u.ctrlKey&&u.keyCode===90,R=u.ctrlKey&&u.keyCode===67,W=u.ctrlKey&&u.keyCode===86;if(m)n.pop();else if(R){if(e.value){const E=JSON.stringify(e.value);navigator.clipboard.writeText(E),$.x=100,$.y=100}}else W&&navigator.clipboard.readText().then(E=>{const b=JSON.parse(E);let S;switch(b.name){case"rect":S=new ae(b.info,b.style);break;case"roundRect":S=new re(b.info,b.style);break;case"ellipse":S=new ce(b.info,b.style);break;case"circle":S=new de(b.info,b.style);break;case"line":S=new ue(b.info,b.style);break;case"text":S=new he(b.info,b.style);break}Object.keys(b).forEach(_=>{S[_]=b[_]}),S.info.x=$.x,S.info.y=$.y,$.x+=30,$.y+=30,n.push(S)})});const a=()=>{requestAnimationFrame(a),q.value.clearRect(0,0,d.width,d.height),n.forEach(u=>{u.draw(q.value)}),e.value?(y.value=!0,n.forEach(u=>{u.isActive=!1}),e.value.isActive=!0):(l.value=!1,y.value=!1,n.forEach(u=>{u.isActive=!1}))};a()},Be=()=>{var d,a;(a=(d=U(se).popperRef)==null?void 0:d.delayHide)==null||a.call(d)},Ge=d=>{const a=d.offsetX,u=d.offsetY;if(A.x=a,A.y=u,l.value=!0,s.value=!1,l.value)switch(o.value){case 0:Te(a,u);break;case 1:be(a,u);break;case 2:_e(a,u);break;case 3:me(a,u);break;case 4:ke(a,u);break;case 5:Se(a,u);break;case 6:D.value=!0,B.width="100px",B.left=a+"px",B.top=u+"px",le(()=>{M.value.focus()}),Ce(a,u);break}e.value&&(e.value.moveDir(a,u)&&(Z.value=e.value.moveDir(a,u)),X.value=JSON.parse(JSON.stringify(e.value)))},Ie=d=>{const a=d.offsetX,u=d.offsetY;l.value&&(e.value.name!=="line"?(a<A.x?(e.value.info.x=a,e.value.info.width=A.x-a):e.value.info.width=a-e.value.info.x,u<A.y?(e.value.info.y=u,e.value.info.height=A.y-u):e.value.info.height=u-e.value.info.y):(e.value.info.width=a-e.value.info.x,e.value.info.height=u-e.value.info.y,e.value.endX=a,e.value.endY=u)),e.value&&(e.value.isInside(a,u)?K.value="move":K.value="default",e.value.moveDir(a,u)&&(K.value=e.value.moveDir(a,u))),c.value&&bt(a,u,e,X,Z,q,A)},Me=()=>{c.value=!1,l.value=!1,Z.value="",i.value||(o.value=0,K.value="default"),X.value=null},De=()=>{if(e.value){f.value=e.value;const{x:d,y:a,width:u,height:m}=e.value.info;D.value=!0,B.width=u+"px",B.left=d+"px",B.top=a+m/2-10+"px",e.value.text?(N.value=e.value.text,e.value.text=""):N.value="",le(()=>{M.value.focus()})}else return},Ee=d=>{if(d.keyCode===8&&e.value){const a=n.indexOf(e.value);n.splice(a,1)}console.log(d.keyCode)},Pe=()=>{f.value&&(f.value.text=M.value.value,f.value=null,D.value=!1)},Ve=()=>{const d=t.value.toDataURL(),a=new Date,u=document.createElement("a");u.setAttribute("download","draw-"+a.getTime()),u.href=d,u.click()},Te=(d,a)=>{l.value=!1;const u=[];if(n.forEach((m,R)=>{m.style.zIndex=R,m.isInside(d,a)&&u.push(m)}),u.length){u.sort((R,W)=>W.style.zIndex-R.style.zIndex),e.value=u[0];const m=n.map(R=>R.style.zIndex);e.value.style.zIndex=Math.max(...m)+1,n.sort((R,W)=>R.style.zIndex-W.style.zIndex)}else e.value=null;e.value&&(c.value=!0,e.value.offsetX=d-e.value.info.x,e.value.offsetY=a-e.value.info.y)},Ae=d=>{o.value=d},We=d=>{e.value.style.border=d.color},Oe=d=>{e.value.style.border=d,H.value=d},Ne=d=>{e.value.style.background=d.color},$e=d=>{e.value.style.background=d,J.value=d},Le=d=>{e.value.style.borderWidth=d.borderWidth},Ue=d=>{e.value&&(e.value.bgcMode=d)},je=()=>{if(e.value.linearGradientStyle.colors.length===10){ee({message:"最多十个，不能再加啦！",type:"warning"});return}e.value.linearGradientStyle.colors.push({id:e.value.linearGradientStyle.colors.length+1,color:"#000",offset:0}),e.value.linearGradientStyle.colors.forEach((d,a)=>{const u=e.value.linearGradientStyle.colors.length;d.offset=Number((1/(u-1)).toFixed(2))*a,a===u-1&&(d.offset=1)})},He=d=>{e.value.linearGradientStyle.colors.splice(d,1)},Je=(d,a)=>{e.value.linearGradientStyle.colors[a].color=d},Ke=()=>{n.length?vt.confirm("确定清空画布吗?").then(()=>{q.value.clearRect(0,0,t.value.width,t.value.height),n.splice(0,n.length),e.value=null,ft({title:"Success",message:"画布已清空",type:"success"})}).catch(()=>{ee({message:"可能出现了bug",type:"error"})}):ee({message:"画布已经很干净啦！",type:"success"})};return Ze(e,()=>{e.value?Q.value=e.value.bgcMode:Q.value=0}),Xe(()=>{ze()}),(d,a)=>{const u=et,m=tt,R=yt,W=st,E=it,b=ot,S=pt;return p(),w(T,null,[v("canvas",{ref_key:"cvsRef",ref:t,onMousedown:Ge,onMousemove:Ie,onMouseup:Me,onDblclick:De,onKeydown:Ee,style:F({cursor:K.value})},null,36),v("div",{class:"settingBtn",onClick:a[0]||(a[0]=h=>s.value=!s.value)},kt),s.value?(p(),w("div",mt,[v("div",{class:"export",onClick:Ve},Rt),v("div",{class:"reset",onClick:Ke},Bt)])):P("",!0),v("div",{class:"chooseBtns",onClick:a[2]||(a[2]=h=>s.value=!1)},[v("div",{class:I({btnBox:!0,lock:!0,focusBtn:i.value}),title:"绘制后保持所选工具栏状态",onClick:a[1]||(a[1]=h=>i.value=!i.value)},[v("button",null,[i.value?(p(),L(u,{key:0},{default:V(()=>[z(U(lt))]),_:1})):(p(),L(u,{key:1},{default:V(()=>[z(U(nt))]),_:1}))])],2),Gt,v("div",It,[(p(!0),w(T,null,O(Re.value,(h,_)=>(p(),w("div",{key:_,class:I({btnBox:!0,focusBtn:o.value===_}),mode:h.mode,title:h.title,onClick:x=>Ae(h.mode)},[v("button",{class:I(h.name)},[v("i",{class:I("iconfont "+h.icon)},null,2)],2)],10,Mt))),128))])]),y.value?(p(),w("div",{key:1,class:"modify",onClick:a[6]||(a[6]=h=>s.value=!1)},[v("div",Dt,[Et,v("div",Pt,[v("div",Vt,[(p(!0),w(T,null,O(ve,(h,_)=>(p(),w("div",{key:_,class:I({[h.color]:!0}),style:F({boxShadow:e.value&&e.value.style.border===h.color?`0 0 5px ${h.color}`:""}),title:h.color,onClick:x=>We(h)},null,14,Tt))),128))]),At,v("div",Wt,[z(m,{onActiveChange:Oe,modelValue:H.value,"onUpdate:modelValue":a[3]||(a[3]=h=>H.value=h),predefine:Y.value,"show-alpha":!0},null,8,["modelValue","predefine"])])])]),v("div",Ot,[v("div",Nt,[$t,z(W,{modelValue:Q.value,"onUpdate:modelValue":a[4]||(a[4]=h=>Q.value=h),placeholder:"Select","default-first-option":!0,size:"small",class:"bgcSelect",onChange:Ue},{default:V(()=>[(p(!0),w(T,null,O(pe,h=>(p(),L(R,{key:h.value,label:h.label,value:h.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.value&&e.value.bgcMode===1?ie((p(),L(E,{key:0,size:"small",ref_key:"buttonRef",ref:te},{default:V(()=>[v("div",{class:I({iconfont:!0,"icon-resize":e.value.linearGradientStyle.direction===0,"icon-resize-vertical-copy":e.value.linearGradientStyle.direction===1,"icon-resize-title2-copy":e.value.linearGradientStyle.direction===2,"icon-resize-tilt":e.value.linearGradientStyle.direction===3})},null,2)]),_:1})),[[U(at),Be]]):P("",!0),z(b,{ref_key:"popoverRef",ref:se,"virtual-ref":te.value,trigger:"click",title:"选择渐变方向","virtual-triggering":""},{default:V(()=>[v("div",Lt,[(p(!0),w(T,null,O(we,(h,_)=>(p(),L(E,{size:"small",key:_,style:{padding:"3px",boxsizing:"border-box"},onClick:x=>xe(_)},{default:V(()=>[v("div",{class:I(["iconfont",h])},null,2)]),_:2},1032,["onClick"]))),128))])]),_:1},8,["virtual-ref"]),e.value&&e.value.bgcMode===1?(p(),L(E,{key:1,size:"small",onClick:je,icon:U(rt)},null,8,["icon"])):P("",!0)]),e.value&&e.value.bgcMode===0?(p(),w("div",Ut,[v("div",jt,[(p(!0),w(T,null,O(fe,(h,_)=>(p(),w("div",{key:_,title:h.color,onClick:x=>Ne(h),class:I({[h.color]:!0}),style:F({boxShadow:e.value&&e.value.style.background===h.color?`0 0 5px ${h.color}`:""})},null,14,Ht))),128))]),Jt,v("div",Kt,[z(m,{onActiveChange:$e,modelValue:J.value,"onUpdate:modelValue":a[5]||(a[5]=h=>J.value=h),predefine:Y.value,"show-alpha":!0},null,8,["modelValue","predefine"])])])):P("",!0),e.value&&e.value.bgcMode===1?(p(),w("div",qt,[e.value.linearGradientStyle.colors.length?P("",!0):(p(),w("div",Ft,[z(u,null,{default:V(()=>[z(U(ct))]),_:1}),oe(" 点击加号添加渐变颜色 ")])),(p(!0),w(T,null,O(e.value.linearGradientStyle.colors,(h,_)=>(p(),w("div",{key:h.id},[v("div",Qt,dt(h.id),1),z(m,{modelValue:h.color,"onUpdate:modelValue":x=>h.color=x,onActiveChange:x=>Je(x,_),predefine:Y.value,"show-alpha":!0},null,8,["modelValue","onUpdate:modelValue","onActiveChange","predefine"]),Zt,z(S,{modelValue:h.offset,"onUpdate:modelValue":x=>h.offset=x,min:0,max:1,size:"small",precision:2,step:.1,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"]),z(E,{size:"small",class:"removeSingleGradient",onClick:x=>He(_)},{default:V(()=>[oe("x")]),_:2},1032,["onClick"])]))),128))])):P("",!0)]),v("div",Xt,[Yt,v("div",es,[(p(!0),w(T,null,O(ye,(h,_)=>(p(),w("div",{key:_,onClick:x=>Le(h),class:I({activeColor:e.value?e.value.style.borderWidth===h.borderWidth:1})},[v("div",{style:F({height:h.borderWidth+"px"})},null,4)],10,ts))),128))])])])):P("",!0),D.value?ie((p(),w("input",{key:2,class:"textIpt",ref_key:"textIpt",ref:M,style:F({minWidth:B.width,left:B.left,top:B.top}),onBlur:Pe,"onUpdate:modelValue":a[7]||(a[7]=h=>N.value=h)},null,36)),[[Ye,N.value]]):P("",!0)],64)}}});const ls=gt(ss,[["__scopeId","data-v-699e99d5"]]);export{ls as default};
